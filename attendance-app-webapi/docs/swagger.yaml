basePath: /api
definitions:
  AttendanceResponse:
    properties:
      created_at:
        description: When the record was created
        example: "2025-10-21T09:00:00Z"
        type: string
      id:
        description: The unique identifier for the attendance record
        example: 1
        type: integer
      latitude:
        description: Latitude of recorded location
        example: -7.5583648316326295
        type: number
      longitude:
        description: Longitude of recorded location
        example: 110.8577696892991
        type: number
      notes:
        description: Notes from validator
        example: Attendance verified
        type: string
      photoURL:
        description: URL of the photo taken during attendance
        example: https://storage.example.com/photos/checkin123.jpg
        type: string
      updated_at:
        description: When the record was last updated
        example: "2025-10-21T09:00:00Z"
        type: string
      user_id:
        description: The user ID who created the attendance record
        example: 1
        type: integer
      validationStatus:
        allOf:
        - $ref: '#/definitions/models.ValidationStatus'
        description: Status of the attendance record
        example: PRESENT
    type: object
  AttendanceValidationRequest:
    properties:
      notes:
        description: Optional notes from the validator
        example: Leave early without permit
        type: string
      validationStatus:
        allOf:
        - $ref: '#/definitions/models.ValidationStatus'
        description: Status of the validation (PRESENT, ABSENT, LATE)
        example: REJECTED
    required:
    - validationStatus
    type: object
  LeaveValidationRequest:
    properties:
      approverNotes:
        description: Optional notes from the approver
        example: Approved based on medical documentation
        type: string
      status:
        allOf:
        - $ref: '#/definitions/models.LeaveRequestStatus'
        description: Status to set for the leave request (APPROVED, REJECTED)
        example: APPROVED
    required:
    - status
    type: object
  UserManagement.CreateUserRequest:
    properties:
      Email:
        example: john@example.com
        type: string
      Name:
        example: John Doe
        type: string
      Password:
        example: SecurePass123!
        maxLength: 72
        minLength: 8
        type: string
      Role:
        properties:
          Name:
            allOf:
            - $ref: '#/definitions/models.RoleName'
            example: user
          Position:
            example: Manager
            type: string
          PositionLevel:
            example: 2
            minimum: 0
            type: integer
        required:
        - Name
        - Position
        type: object
      SupervisorID:
        example: 1
        type: integer
      Username:
        example: john_doe
        maxLength: 32
        minLength: 3
        type: string
    required:
    - Email
    - Name
    - Password
    - Role
    - Username
    type: object
  UserManagement.GetAllNonAdminUsersResponse:
    properties:
      Email:
        type: string
      ID:
        type: integer
      Name:
        type: string
      Position:
        type: string
      PositionLevel:
        type: integer
      Role:
        $ref: '#/definitions/models.RoleName'
      Supervisor:
        properties:
          SupervisorID:
            type: integer
          SupervisorName:
            type: string
        type: object
      Username:
        type: string
    type: object
  UserManagement.UpdateUserRequest:
    properties:
      Email:
        example: john.updated@example.com
        type: string
      Name:
        example: John Doe Updated
        type: string
      Password:
        example: NewSecurePass123!
        maxLength: 72
        minLength: 8
        type: string
      Role:
        properties:
          Name:
            allOf:
            - $ref: '#/definitions/models.RoleName'
            example: user
          Position:
            example: Senior Manager
            type: string
          PositionLevel:
            example: 3
            minimum: 0
            type: integer
        type: object
      SupervisorID:
        example: 2
        type: integer
      Username:
        example: john_doe_updated
        maxLength: 32
        minLength: 3
        type: string
    type: object
  email.TestEmailRequest:
    properties:
      body:
        example: <h1>Test Email</h1><p>This is a test email.</p>
        type: string
      recipients:
        example:
        - user@example.com
        - admin@example.com
        items:
          type: string
        minItems: 1
        type: array
      subject:
        example: Test Email Subject
        type: string
      type:
        enum:
        - clock_in
        - clock_out
        - custom
        example: clock_in
        type: string
    required:
    - recipients
    - type
    type: object
  handlers.loginPayload:
    properties:
      password:
        example: secretpassword123
        type: string
      username:
        example: john_doe
        type: string
    required:
    - password
    - username
    type: object
  locations.CreateLocationRequest:
    properties:
      Address:
        example: Jl. Sudirman No. 123, Jakarta
        maxLength: 500
        type: string
      Latitude:
        example: -6.2
        type: number
      Longitude:
        example: 106.816666
        type: number
      Name:
        example: Head Office
        maxLength: 255
        type: string
      Radius:
        example: 100
        maximum: 50000
        minimum: 10
        type: integer
    required:
    - Latitude
    - Longitude
    - Name
    - Radius
    type: object
  locations.UpdateLocationRequest:
    properties:
      Address:
        example: Jl. Sudirman No. 123, Jakarta
        maxLength: 500
        type: string
      Latitude:
        example: -6.2
        type: number
      Longitude:
        example: 106.816666
        type: number
      Name:
        example: Head Office
        maxLength: 255
        type: string
      Radius:
        example: 100
        maximum: 50000
        minimum: 10
        type: integer
    type: object
  models.AttendanceStatus:
    enum:
    - ON_TIME
    - LATE
    type: string
    x-enum-varnames:
    - OnTime
    - Late
  models.AttendanceSwagger:
    properties:
      CheckInLatitude:
        type: number
      CheckInLongitude:
        type: number
      CheckInPhotoURL:
        type: string
      CheckInTime:
        type: string
      CheckOutLatitude:
        type: number
      CheckOutLongitude:
        type: number
      CheckOutPhotoURL:
        type: string
      CheckOutTime:
        type: string
      CreatedAt:
        type: string
      ID:
        type: integer
      LocationID:
        type: integer
      Notes:
        type: string
      Status:
        $ref: '#/definitions/models.AttendanceStatus'
      UpdatedAt:
        type: string
      UserID:
        type: integer
      ValidationStatus:
        $ref: '#/definitions/models.ValidationStatus'
      ValidatorID:
        type: integer
    type: object
  models.ErrorResponse:
    properties:
      error:
        example: Error message description
        type: string
    type: object
  models.LeaveRequestStatus:
    enum:
    - PENDING
    - APPROVED
    - REJECTED
    type: string
    x-enum-varnames:
    - LeavePending
    - LeaveApproved
    - LeaveRejected
  models.LeaveRequestSwagger:
    properties:
      ApproverID:
        type: integer
      ApproverNotes:
        type: string
      AttachmentURL:
        type: string
      CreatedAt:
        type: string
      EndDate:
        type: string
      ID:
        type: integer
      LeaveType:
        $ref: '#/definitions/models.LeaveType'
      Reason:
        type: string
      StartDate:
        type: string
      Status:
        $ref: '#/definitions/models.LeaveRequestStatus'
      UpdatedAt:
        type: string
      UserID:
        type: integer
    type: object
  models.LeaveType:
    enum:
    - SICK
    - PERMIT
    type: string
    x-enum-varnames:
    - Sick
    - Permit
  models.LocationSwagger:
    properties:
      Address:
        type: string
      CreatedAt:
        type: string
      ID:
        type: integer
      Latitude:
        type: number
      Longitude:
        type: number
      Name:
        type: string
      Radius:
        type: integer
      UpdatedAt:
        type: string
    type: object
  models.Role:
    type: object
  models.RoleName:
    enum:
    - admin
    - user
    type: string
    x-enum-varnames:
    - RoleAdmin
    - RoleUser
  models.RoleSwagger:
    properties:
      CreatedAt:
        type: string
      ID:
        type: integer
      Name:
        $ref: '#/definitions/models.RoleName'
      Position:
        type: string
      PositionLevel:
        type: integer
      UpdatedAt:
        type: string
    type: object
  models.SettingSwagger:
    properties:
      CreatedAt:
        type: string
      ID:
        type: integer
      Key:
        type: string
      UpdatedAt:
        type: string
      UpdatedBy:
        type: integer
      Value:
        type: string
    type: object
  models.UserSwagger:
    properties:
      CreatedAt:
        type: string
      Email:
        type: string
      ID:
        type: integer
      Role:
        $ref: '#/definitions/models.RoleSwagger'
      RoleID:
        type: integer
      UpdatedAt:
        type: string
      Username:
        type: string
    type: object
  models.ValidationStatus:
    enum:
    - PENDING
    - PRESENT
    - ABSENT
    - LEAVE
    - REJECTED
    - DIDNT_CHECKOUT
    type: string
    x-enum-varnames:
    - Pending
    - Present
    - Absent
    - Leave
    - Rejected
    - DidntCheckout
  settings.SettingsResponse:
    additionalProperties:
      type: string
    type: object
  settings.UpdateSettingsRequest:
    additionalProperties:
      type: string
    type: object
  utils.PaginatedResponse:
    properties:
      data: {}
      page:
        type: integer
      pageSize:
        type: integer
      totalPages:
        type: integer
      totalRows:
        type: integer
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: 'Enter your JWT token in the format: Bearer {token}. For testing, you
    can use this admin test token (valid for 1 year): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc5MzMyODc5OX0.sKEg9JeUxDqHyD4vGwAb6pk9iLrebJfBpTJGPRnMSrY'
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Digital Attendance API
  version: "1.0"
paths:
  /admin/email/scheduler-status:
    get:
      consumes:
      - application/json
      description: Get current scheduler status including timezone, current time,
        and next scheduled jobs (Admin only)
      produces:
      - application/json
      responses:
        "200":
          description: Scheduler status
          schema:
            additionalProperties: true
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can access scheduler status
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get scheduler status
      tags:
      - email
  /admin/email/send-reminder:
    post:
      consumes:
      - application/json
      description: Send clock-in or clock-out reminder to all users in the database
        (Admin only)
      parameters:
      - description: Reminder type
        enum:
        - clock_in
        - clock_out
        in: query
        name: type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Email sent successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can send reminders
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Send reminder to all users
      tags:
      - email
  /admin/email/test:
    post:
      consumes:
      - application/json
      description: Test email sending functionality (Admin only). Send clock-in reminder,
        clock-out reminder, or custom email.
      parameters:
      - description: Email test parameters
        in: body
        name: email
        required: true
        schema:
          $ref: '#/definitions/email.TestEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Email sent successfully
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can test email
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Test email sending
      tags:
      - email
  /admin/locations:
    get:
      consumes:
      - application/json
      description: Retrieve all locations
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LocationSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can access locations
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all locations
      tags:
      - locations
    post:
      consumes:
      - application/json
      description: Create a new location
      parameters:
      - description: Location data
        in: body
        name: location
        required: true
        schema:
          $ref: '#/definitions/locations.CreateLocationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.LocationSwagger'
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can create locations
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create new location
      tags:
      - locations
  /admin/locations/{id}:
    delete:
      consumes:
      - application/json
      description: Soft delete a location
      parameters:
      - description: Location ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Location deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Cannot delete location - it has associated attendance records
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can delete locations
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Location not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete location
      tags:
      - locations
    get:
      consumes:
      - application/json
      description: Retrieve a single location by its ID
      parameters:
      - description: Location ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LocationSwagger'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can access locations
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Location not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get location by ID
      tags:
      - locations
    put:
      consumes:
      - application/json
      description: Update an existing location
      parameters:
      - description: Location ID
        in: path
        name: id
        required: true
        type: integer
      - description: Location data
        in: body
        name: location
        required: true
        schema:
          $ref: '#/definitions/locations.UpdateLocationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LocationSwagger'
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can update locations
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Location not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update location
      tags:
      - locations
  /admin/settings:
    put:
      consumes:
      - application/json
      description: Update multiple settings at once (bulk update)
      parameters:
      - description: Settings to update (key-value pairs)
        in: body
        name: settings
        required: true
        schema:
          $ref: '#/definitions/settings.UpdateSettingsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/settings.SettingsResponse'
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can update settings
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update settings
      tags:
      - settings
  /admin/users:
    get:
      consumes:
      - application/json
      description: Get a paginated list of users filtered by role (admin, user, or
        all)
      parameters:
      - description: 'Page number (default: 1)'
        example: 1
        in: query
        name: page
        type: integer
      - description: 'Page size (default: 10)'
        example: 10
        in: query
        name: pageSize
        type: integer
      - description: Search by email, role name, or position
        example: admin
        in: query
        name: search
        type: string
      - description: Sort by field (id, name, email, username, created_at, role, position_level)
        example: name
        in: query
        name: sortBy
        type: string
      - description: Sort order (asc, desc)
        example: asc
        in: query
        name: sortOrder
        type: string
      - description: 'Filter by role: admin, user, or all (default: all)'
        example: all
        in: query
        name: role
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/utils.PaginatedResponse'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/UserManagement.GetAllNonAdminUsersResponse'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can access
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all users with optional role filtering
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Create a new user with role and optional supervisor
      parameters:
      - description: User creation data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/UserManagement.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.UserSwagger'
        "400":
          description: Validation error or duplicate user
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can create users
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create new user
      tags:
      - users
  /admin/users/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an existing user from the system
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: User deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can delete users
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete a user
      tags:
      - users
    get:
      consumes:
      - application/json
      description: Get detailed information about a specific user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserSwagger'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can access
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user details
      tags:
      - users
    put:
      consumes:
      - application/json
      description: Update an existing user's information
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: string
      - description: User update data
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/UserManagement.UpdateUserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.UserSwagger'
        "400":
          description: Validation error
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can update users
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update user details
      tags:
      - users
  /admin/users/export/excel:
    get:
      consumes:
      - application/json
      description: Export all users (including soft-deleted) with complete details
        to Excel file
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file with all users data
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can export users
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export all users to Excel
      tags:
      - users
  /admin/users/roles:
    get:
      consumes:
      - application/json
      description: Retrieve a list of all available roles in the system
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.RoleSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can view roles
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all roles
      tags:
      - roles
    post:
      consumes:
      - application/json
      description: Create a new role in the system
      parameters:
      - description: Role creation data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.Role'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.RoleSwagger'
        "400":
          description: Validation error or role already exists
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can create roles
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Create new role
      tags:
      - roles
  /admin/users/roles/{id}:
    delete:
      consumes:
      - application/json
      description: Delete an existing role
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: Role deleted successfully
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Role is in use by users
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can delete roles
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Role not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Delete role
      tags:
      - roles
    put:
      consumes:
      - application/json
      description: Update an existing role's details
      parameters:
      - description: Role ID
        in: path
        name: id
        required: true
        type: string
      - description: Updated role data
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/models.Role'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.RoleSwagger'
        "400":
          description: Validation error
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can update roles
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Role not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update role
      tags:
      - roles
  /admin/users/roles/admins:
    get:
      consumes:
      - application/json
      description: Get a list of all admin roles in the system
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.RoleSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can view roles
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get admin roles
      tags:
      - roles
  /admin/users/roles/export/excel:
    get:
      description: Export all roles (including soft-deleted) to Excel file
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file download
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can export roles
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export roles to Excel
      tags:
      - roles
  /admin/users/roles/non-admins:
    get:
      consumes:
      - application/json
      description: Get a list of all non-admin roles in the system
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.RoleSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Only admins can view roles
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get non-admin roles
      tags:
      - roles
  /login:
    post:
      consumes:
      - application/json
      description: Authenticate user and return JWT token
      parameters:
      - description: Login credentials
        in: body
        name: login
        required: true
        schema:
          $ref: '#/definitions/handlers.loginPayload'
      produces:
      - application/json
      responses:
        "200":
          description: Returns JWT token
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Invalid request payload or validation error
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Invalid username or password
          schema:
            additionalProperties:
              type: string
            type: object
      summary: User login
      tags:
      - auth
  /logout:
    post:
      consumes:
      - application/json
      description: Invalidate the current JWT token
      produces:
      - application/json
      responses:
        "200":
          description: Successfully logged out
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: User logout
      tags:
      - auth
  /user/attendance/check-in:
    post:
      consumes:
      - multipart/form-data
      description: Record user's check-in with photo and location. Location must be
        within defined radius of office coordinates.
      parameters:
      - description: Check-in photo (JPG, JPEG, PNG, max 5MB)
        in: formData
        name: photo
        required: true
        type: file
      - description: Location latitude
        in: formData
        name: latitude
        required: true
        type: number
      - description: Location longitude
        in: formData
        name: longitude
        required: true
        type: number
      produces:
      - application/json
      responses:
        "201":
          description: Successfully created attendance record
          schema:
            $ref: '#/definitions/AttendanceResponse'
        "400":
          description: Invalid request, location too far from office, or invalid photo
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "401":
          description: Unauthorized or invalid token
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "429":
          description: Already checked in today
          schema:
            $ref: '#/definitions/models.ErrorResponse'
        "500":
          description: Server error
          schema:
            $ref: '#/definitions/models.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Check-in attendance
      tags:
      - attendance
  /user/attendance/check-out:
    post:
      consumes:
      - multipart/form-data
      description: Record user's check-out with photo and location
      parameters:
      - description: Check-out photo (JPG, JPEG, PNG, max 5MB)
        in: formData
        name: photo
        required: true
        type: file
      - description: Location latitude
        in: formData
        name: latitude
        required: true
        type: number
      - description: Location longitude
        in: formData
        name: longitude
        required: true
        type: number
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AttendanceSwagger'
        "400":
          description: Invalid request, location too far, or invalid photo
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: No check-in record found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Check-out attendance
      tags:
      - attendance
  /user/attendance/export/excel:
    get:
      description: Export current user's attendance records to Excel file
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file download
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export my attendance records to Excel
      tags:
      - attendance
  /user/attendance/my-records:
    get:
      description: Retrieve all attendance records for the current user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.AttendanceSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get personal attendance records
      tags:
      - attendance
  /user/attendance/subordinates:
    get:
      description: Retrieve attendance records for all subordinates (supervisor only)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.AttendanceSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Not a supervisor
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get subordinate attendance records
      tags:
      - attendance
  /user/attendance/subordinates/export/excel:
    get:
      description: Export subordinate attendance records to Excel file (supervisor
        only)
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file download
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Not a supervisor
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export subordinate attendance records to Excel
      tags:
      - attendance
  /user/attendance/update/{id}:
    put:
      consumes:
      - application/json
      description: Update attendance record for a subordinate (supervisor only)
      parameters:
      - description: Attendance ID
        in: path
        name: id
        required: true
        type: string
      - description: Update data
        in: body
        name: validation
        required: true
        schema:
          $ref: '#/definitions/AttendanceValidationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.AttendanceSwagger'
        "400":
          description: Invalid request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Not the supervisor
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Record not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Update subordinate attendance record
      tags:
      - attendance
  /user/leave:
    post:
      consumes:
      - multipart/form-data
      description: Submit a new leave request with supporting documentation
      parameters:
      - description: Supporting document (JPG, JPEG, PNG, PDF, max 5MB)
        in: formData
        name: attachment
        required: true
        type: file
      - description: Type of leave (SICK, PERMIT)
        example: SICK
        in: formData
        name: leaveType
        required: true
        type: string
      - description: Start date of leave (YYYY-MM-DD)
        example: "2025-10-22"
        in: formData
        name: startDate
        required: true
        type: string
      - description: End date of leave (YYYY-MM-DD)
        example: "2025-10-24"
        in: formData
        name: endDate
        required: true
        type: string
      - description: Reason for leave request
        example: Medical_appointment_and_recovery
        in: formData
        name: reason
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LeaveRequestSwagger'
        "400":
          description: Invalid request payload, dates, or attachment
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Submit leave request
      tags:
      - leave
  /user/leave/export/excel:
    get:
      description: Export current user's leave requests to Excel file
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file download
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export my leave requests to Excel
      tags:
      - leave
  /user/leave/my-requests:
    get:
      consumes:
      - application/json
      description: Get all leave requests submitted by the current user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LeaveRequestSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get my leave requests
      tags:
      - leave
  /user/leave/subordinates:
    get:
      consumes:
      - application/json
      description: Get all leave requests submitted by users who report to the current
        user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.LeaveRequestSwagger'
            type: array
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get subordinate leave requests
      tags:
      - leave
  /user/leave/subordinates/export/excel:
    get:
      description: Export subordinate leave requests to Excel file (supervisor only)
      produces:
      - application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
      responses:
        "200":
          description: Excel file download
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Not a supervisor
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Export subordinate leave requests to Excel
      tags:
      - leave
  /user/leave/validate/{id}:
    put:
      consumes:
      - application/json
      description: Approve or reject a leave request as a supervisor
      parameters:
      - description: Leave request ID
        in: path
        name: id
        required: true
        type: string
      - description: Leave validation details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/LeaveValidationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LeaveRequestSwagger'
        "400":
          description: Invalid request payload
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - Not the supervisor
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Leave request or user not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Validate leave request
      tags:
      - leave
  /user/profile:
    get:
      consumes:
      - application/json
      description: Get the profile of the currently authenticated user (non-admin)
      produces:
      - application/json
      responses:
        "200":
          description: Current user's profile
          schema:
            $ref: '#/definitions/models.UserSwagger'
        "401":
          description: Unauthorized or invalid token
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: User not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get current user's profile
      tags:
      - users
  /user/settings:
    get:
      consumes:
      - application/json
      description: Retrieve all application settings as key-value pairs (accessible
        to all authenticated users)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/settings.SettingsResponse'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get all settings
      tags:
      - settings
  /user/settings/{key}:
    get:
      consumes:
      - application/json
      description: Retrieve a single setting by its key (accessible to all authenticated
        users)
      parameters:
      - description: Setting key
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.SettingSwagger'
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Setting not found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get setting by key
      tags:
      - settings
  /user/subordinates:
    get:
      consumes:
      - application/json
      description: Get a list of all users who report to the current user (accessible
        via both /admin/users/subordinates and /user/subordinates)
      produces:
      - application/json
      responses:
        "200":
          description: List of subordinate users
          schema:
            items:
              $ref: '#/definitions/models.UserSwagger'
            type: array
        "401":
          description: Unauthorized or invalid token
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Get user's subordinates
      tags:
      - users
schemes:
- http
swagger: "2.0"
securityDefinitions:
  BearerAuth:
    type: http
    scheme: bearer
    bearerFormat: JWT
